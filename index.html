<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Cryptoquip</title><style>.container{background-color: #DDD; border-radius: 8px; font-family: sans-serif; margin: auto; padding: 16px; width: 500px;}.title{font-size: 24px; margin-bottom: 16px; text-align: center;}.section{margin: 16px 0;}.col{display: inline-block; vertical-align: top;}.col.w30{max-width: 30%;}.col.w70{max-width: 70%;}.col+.col{margin-left: 16px;}.hidden{display: none;}#ciphertext, #freqs, #mapping{font-family: monospace;}#ciphertext{width: calc(100% - 8px);}#mapping input{width: 12px;}</style></head><body><div class="container"><div class="title">Cryptoquip</div><hr/><div class="section"><b>Ciphertext:</b><textarea id="ciphertext" rows="4">Ab cd, be fba ab cd- agha jk agd lmdkajbf.</textarea></div><div class="section"><b>Frequencies <button id="toggle-freqs">show/hide</button></b><div id="freqs"></div></div><div class="section"><div class="col w30" id="mapping"></div><div class="col w70"><b>Plaintext:</b><div id="plaintext"></div></div></div></div><script>'use strict';var _slicedToArray=function(){function a(b,c){var d=[],e=!0,f=!1,g=void 0;try{for(var j,h=b[Symbol.iterator]();!(e=(j=h.next()).done)&&(d.push(j.value),!(c&&d.length===c));e=!0);}catch(k){f=!0,g=k}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw g}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();document.addEventListener('DOMContentLoaded',function(){'use strict';function a(){j=h.ciphertext.value,c(),e()}function c(){if(l){var m=j.toUpperCase().replace(/[^A-Za-z]/g,''),n=Array.prototype.reduce.call(m,function(p,q){return p[q]=(p[q]||0)+1,p},{}),o=Object.entries(n).sort(function(_ref,_ref2){var _ref4=_slicedToArray(_ref,2),p=_ref4[0],q=_ref4[1],_ref3=_slicedToArray(_ref2,2),r=_ref3[0],s=_ref3[1];return s-q}).map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),p=_ref6[0],q=_ref6[1];return p+':'+q}).join(', ');h.freqs.innerText=o}}function e(){h.plaintext.innerText=j.replace(/[A-Za-z]/g,function(m){var n=m===m.toUpperCase(),o=k.get(m.toUpperCase());return o?n?o.toUpperCase():o.toLowerCase():m})}var g='ABCDEFGHIJKLMNOPQRSTUVWXYZ',h={ciphertext:document.getElementById('ciphertext'),freqs:document.getElementById('freqs'),mapping:document.getElementById('mapping'),plaintext:document.getElementById('plaintext'),toggleFreqs:document.getElementById('toggle-freqs')},j='',k=new Map,l=!h.freqs.classList.contains('hidden');(function(){var m=document.createElement('div'),n=document.createElement('div');m.classList.add('col'),n.classList.add('col'),Array.prototype.forEach.call(g,function(o,p){var q=document.createElement('div');q.innerText=o+' \u2192 ';var r=document.createElement('input');r.dataset.chr=o,q.appendChild(r),p<g.length/2?m.appendChild(q):n.appendChild(q)}),h.mapping.appendChild(m),h.mapping.appendChild(n)})(),a(),h.mapping.addEventListener('keyup',function(m){var n=m.srcElement.dataset.chr,o=m.srcElement.value;o?k.set(n,o):k.delete(n),e()}),h.ciphertext.addEventListener('keyup',a),h.ciphertext.focus(),h.toggleFreqs.addEventListener('click',function(){l=!l,l?(h.freqs.classList.remove('hidden'),c()):h.freqs.classList.add('hidden')})},{once:!0}); </script></body></html>
